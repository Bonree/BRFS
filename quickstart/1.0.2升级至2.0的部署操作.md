## V1.0.2升级至V2.0兼容性问题解决流程

**1. 前期准备：**

    为了确保V1.0.2版本client能正常访问V2.0的集群服务。datanode配置文件需要确保以下几点

    1）V2.0 的集群名称需要与V1.0.2的保持一致；
    
    2）V2.0 的datanode只能挂载一个磁盘分区；
    
    3）V2.0 的datanode保存数据目录要与V1.0.2的保持一致;
    
    4）V2.0 的datanode配置文件要包含V1.0.2的datanode.data.root配置项内容，保证其值与V1.0.2的一致
    
    5）V1.0.2的id文件 disknode_id 文件需要提前备份。
    
    
 **示例：**
    
```properties
        # 机器集群名
        cluster.name = cluster_name
        # 磁盘节点保存数据文件的目录路径(V2.0 配置) 
        datanode.storage.dirs = ["/data1"]

        # 磁盘节点保存数据文件的目录路径(V1.0.2 配置)
        datanode.data.root=/data1
```    

**2. 执行V1.0.2升级V2.0的命令**
```shell script
  sh start-server.sh update {disknode_id file path}
```
**3. 正常启动 V2.0的datanode**  

<img src="./img/timg.jpg"  width="10%"><b>注意</b></img>
***在以上操作未完成时，不能启动datanode节点。***




